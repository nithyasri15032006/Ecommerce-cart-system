<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cart</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Your Cart</h1>
    <nav><a href="index.html">Back to Shop</a></nav>
  </header>

  <section id="cart"></section>

  <script>
    async function loadCart() {
      const res = await fetch("/api/cart");
      const cart = await res.json();
      const container = document.getElementById("cart");
      container.innerHTML = "";

      if (cart.length === 0) {
        container.innerHTML = "<p>Your cart is empty.</p>";
        return;
      }

      cart.forEach(item => {
        const div = document.createElement("div");
        div.className = "product";
        div.innerHTML = `
          <h3>${item.name}</h3>
          <p>â‚¹${item.price}</p>
          <button onclick="removeItem(${item.id})">Remove</button>
        `;
        container.appendChild(div);
      });
    }

    async function removeItem(id) {
      await fetch(`/api/cart/${id}`, { method: "DELETE" });
      loadCart();
    }

    loadCart();
  </script>
</body>
</html>
